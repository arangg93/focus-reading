<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Focus Reading Training (Random 100/500)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&family=Urbanist:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* 1. SETUP & RESET */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            background-color: #000; /* 완전한 몰입을 위한 블랙 배경 */
            color: #fff;
            font-family: 'Noto Sans KR', sans-serif;
            overflow: hidden; /* 스크롤 방지 */
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* 2. SLIDE CONTAINER */
        .slide-deck {
            position: relative;
            width: 1280px;
            height: 720px;
        }

        .slide-container {
            display: none; /* 기본적으로 숨김, JS로 제어 */
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            background-color: #000;
            padding: 40px;
        }

        .slide-container.active {
            display: flex;
        }

        /* 3. TYPOGRAPHY */
        h1, h2 {
            font-weight: 900;
            line-height: 1.2;
            text-align: center;
        }

        /* Title Slide */
        .title-slide h1 { font-size: 80px; color: #deff9a; margin-bottom: 20px; }
        .title-slide p { font-size: 24px; color: #a3a3a3; }
        .instruction { margin-top: 40px; font-size: 18px; color: #fff; border: 1px solid #333; padding: 15px 30px; border-radius: 50px; }

        /* Training Text Styles */
        .word-center {
            font-size: 120px;
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        /* Diamond Layout */
        .diamond-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .word-corner {
            position: absolute;
            font-size: 60px;
            color: #deff9a; /* 라임색으로 주변 시야 자극 */
            font-weight: 700;
        }

        .top-left { top: 50px; left: 50px; }
        .top-right { top: 50px; right: 50px; }
        .bottom-left { bottom: 50px; left: 50px; }
        .bottom-right { bottom: 50px; right: 50px; }

        /* Crosshair for Center Focus in Diamond Layout */
        .fixation-point {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            background-color: #333;
            border-radius: 50%;
            opacity: 0.5;
        }

        /* 4. CONTROLS */
        .controls {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            display: flex;
            gap: 10px;
        }

        button {
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Noto Sans KR', sans-serif;
            transition: transform 0.1s;
        }

        #start-btn { background-color: #deff9a; color: #000; }
        #stop-btn { background-color: #ff5f5f; color: #fff; display: none; }
        #reset-btn { background-color: #333; color: #fff; }

        button:active { transform: scale(0.95); }

        /* Progress Bar */
        .progress-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            height: 5px;
            background-color: #deff9a;
            width: 0%;
            transition: width 1s linear;
        }
    </style>
</head>
<body>

    <div class="slide-deck" id="deck">
        
        <!-- Slide 0: Title -->
        <div class="slide-container title-slide active" id="title-slide">
            <h1>포커스 리딩<br>무작위 훈련</h1>
            <p>500단어 중 100단어 랜덤 추출 (20세트)</p>
            <div class="instruction">
                <i class="fa-solid fa-eye"></i> F11을 눌러 전체화면으로 만드세요.<br>
                [시작]을 누를 때마다 새로운 단어가 나옵니다.
            </div>
        </div>

        <!-- Generated Slides will be inserted here -->

        <!-- Final Slide (Template) -->
        <div class="slide-container" id="final-slide-template">
            <h1 style="color: #deff9a">훈련 완료</h1>
            <p style="margin-top: 20px;">수고하셨습니다. <br>이제 책을 펼쳐 실전 독서에 돌입하세요.</p>
        </div>

    </div>

    <div class="progress-bar" id="progress"></div>

    <div class="controls">
        <button id="start-btn" onclick="startTraining()"><i class="fa-solid fa-play"></i> 훈련 시작</button>
        <button id="stop-btn" onclick="stopTraining()"><i class="fa-solid fa-stop"></i> 중지</button>
        <button id="reset-btn" onclick="resetAndReshuffle()"><i class="fa-solid fa-shuffle"></i> 새로운 세트 (리셋)</button>
    </div>

    <script>
        // 1. Massive Word Pool (~500 words)
        const fullWordPool = [
            // A. Reading & Learning
            "독서", "속독", "정독", "다독", "통찰", "이해", "분석", "종합", "적용", "실천",
            "집중", "몰입", "기억", "망각", "복습", "예습", "질문", "대답", "토론", "발표",
            "요약", "발췌", "메모", "기록", "정리", "구조", "맥락", "핵심", "주제", "소재",
            "논리", "근거", "주장", "설득", "비판", "창의", "상상", "연상", "추론", "판단",
            "지식", "지혜", "정보", "데이터", "패턴", "원리", "법칙", "이론", "실무", "경험",
            "학습", "공부", "연구", "탐구", "호기심", "발견", "해결", "성장", "발전", "진보",
            "스킵", "스캔", "관점", "시야", "안목", "직관", "영감", "아이디어", "해법", "솔루션",
            "교훈", "메시지", "의도", "배경", "행간", "단어", "문장", "문단", "챕터", "서문",
            
            // B. Mindset & Success
            "성공", "실패", "도전", "극복", "용기", "열정", "끈기", "인내", "노력", "성취",
            "목표", "계획", "비전", "사명", "가치", "철학", "신념", "확신", "믿음", "자신감",
            "자존감", "긍정", "낙관", "희망", "꿈", "소망", "의지", "결단", "선택", "책임",
            "습관", "반복", "지속", "꾸준함", "성실", "정직", "신뢰", "약속", "규율", "원칙",
            "변화", "혁신", "개혁", "도약", "비상", "탈피", "각성", "자각", "반성", "회고",
            "감사", "행복", "기쁨", "보람", "만족", "평화", "여유", "휴식", "충전", "활력",
            "건강", "체력", "정신", "마음", "영혼", "태도", "자세", "예의", "겸손", "배려",
            "리더십", "팔로워", "영향력", "카리스마", "소통", "공감", "경청", "화합", "협력", "상생",

            // C. Business & Economics
            "경제", "경영", "시장", "고객", "수요", "공급", "가격", "가치", "비용", "수익",
            "이익", "매출", "자본", "투자", "자산", "부채", "현금", "주식", "부동산", "금융",
            "마케팅", "브랜드", "홍보", "광고", "전략", "기획", "인사", "조직", "팀워크", "성과",
            "효율", "생산", "품질", "서비스", "유통", "판매", "영업", "협상", "계약", "거래",
            "경쟁", "차별화", "우위", "선점", "트렌드", "유행", "미래", "전망", "예측", "대비",
            "리스크", "위기", "기회", "운", "타이밍", "속도", "실행", "추진", "마감", "납기",
            "창업", "사업", "기업", "회사", "직장", "업무", "프로젝트", "미션", "비즈니스", "모델",
            "혁신", "기술", "과학", "디지털", "아날로그", "데이터", "플랫폼", "네트워크", "연결", "융합",

            // D. Abstract & Sajeoseong-eo (4-char idioms)
            "일취월장", "괄목상대", "대기만성", "유비무환", "고진감래", "새옹지마", "전화위복", "청출어람", "온고지신", "타산지석",
            "역지사지", "동고동락", "일석이조", "금상첨화", "다다익선", "과유불급", "사상누각", "언행일치", "솔선수범", "결자해지",
            "심사숙고", "주마간산", "우공이산", "백절불굴", "칠전팔기", "마부작침", "우후죽순", "파죽지세", "승승장구", "용기백배",
            "본질", "실체", "현상", "이면", "허상", "진실", "거짓", "오해", "편견", "선입견",
            "자유", "평등", "정의", "도덕", "윤리", "양심", "법칙", "질서", "혼돈", "우주",
            "시간", "공간", "세계", "역사", "문화", "예술", "미학", "창조", "파괴", "재생",
            "생명", "자연", "환경", "생태", "진화", "적응", "생존", "공존", "순환", "균형",
            "무한", "유한", "영원", "찰나", "순간", "지금", "여기", "현재", "과거", "미래",

            // E. Emotions & Actions (Verb/Adj based)
            "사랑", "우정", "존경", "동경", "질투", "분노", "슬픔", "공포", "불안", "긴장",
            "안정", "위로", "격려", "응원", "지지", "칭찬", "비난", "용서", "화해", "치유",
            "걷다", "뛰다", "날다", "보다", "듣다", "말하다", "쓰다", "읽다", "배우다", "익히다",
            "만들다", "부수다", "고치다", "바꾸다", "지키다", "버리다", "채우다", "비우다", "나누다", "합치다",
            "이기다", "지다", "싸우다", "피하다", "맞서다", "견디다", "참다", "누리다", "즐기다", "놀다",
            "일하다", "쉬다", "자다", "깨다", "꿈꾸다", "바라다", "믿다", "속다", "알다", "모르다",
            "찾다", "잃다", "얻다", "주다", "받다", "잡다", "놓다", "가다", "오다", "멈추다",
            "시작", "끝", "출발", "도착", "과정", "결과", "원인", "이유", "목적", "수단",
            
            // F. Additional Power Words
            "탁월함", "위대함", "평범함", "비범함", "유일함", "완벽함", "부족함", "풍요", "결핍", "빈곤",
            "부", "명예", "권력", "지위", "신분", "계급", "평판", "인기", "매력", "개성",
            "재능", "천재", "수재", "둔재", "노력파", "실력", "능력", "역량", "잠재력", "한계",
            "돌파", "초월", "압도", "장악", "지배", "리드", "팔로우", "서포트", "가이드", "코칭",
            "멘토", "멘티", "스승", "제자", "동료", "파트너", "경쟁자", "적", "아군", "친구",
            "가족", "부모", "자녀", "형제", "자매", "이웃", "사회", "국가", "민족", "인류",
            "평화", "전쟁", "갈등", "분쟁", "해결", "협정", "조약", "약속", "선언", "선서",
            "증명", "입증", "검증", "확인", "테스트", "실험", "시도", "실수", "실패", "레슨",
            "피드백", "수정", "보완", "개선", "향상", "최적화", "자동화", "시스템", "프로세스", "매뉴얼",
            "원칙", "기준", "표준", "규격", "형식", "내용", "본문", "서론", "결론", "부록"
        ];

        // 2. Variables & Elements
        const deck = document.getElementById('deck');
        const titleSlide = document.getElementById('title-slide');
        const finalSlideTemplate = document.getElementById('final-slide-template');
        const progressBar = document.getElementById('progress');
        const startBtn = document.getElementById('start-btn');
        const stopBtn = document.getElementById('stop-btn');
        const resetBtn = document.getElementById('reset-btn');

        let intervalId = null;
        let slides = []; 
        let currentSlide = 0;
        const totalTrainingSlides = 20; // 20 sets of (1 center + 1 diamond) = 40 slides
        const speed = 1000; // 1 second

        // 3. Shuffle & Generate Logic
        function shuffle(array) {
            let currentIndex = array.length, randomIndex;
            // While there remain elements to shuffle...
            while (currentIndex != 0) {
                // Pick a remaining element...
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                // And swap it with the current element.
                [array[currentIndex], array[randomIndex]] = [
                    array[randomIndex], array[currentIndex]];
            }
            return array;
        }

        function generateSlides() {
            // A. Clean up existing generated slides
            const existingSlides = document.querySelectorAll('.generated-slide');
            existingSlides.forEach(el => el.remove());

            // B. Shuffle and Pick 100 words (20 groups of 5)
            // Clone array to avoid mutating original pool permanently (though shuffle does mutate clone)
            const shuffledPool = shuffle([...fullWordPool]);
            const selectedWords = shuffledPool.slice(0, 100);

            // C. Create Slide Elements
            // We need 20 groups. Each group uses 5 words (1 Center, 4 Diamond).
            for (let i = 0; i < 20; i++) {
                const groupWords = selectedWords.slice(i * 5, (i + 1) * 5);
                const [centerWord, ...corners] = groupWords;

                // 1. Center Slide
                const centerSlide = document.createElement('div');
                centerSlide.className = 'slide-container generated-slide';
                centerSlide.innerHTML = `<h1 class="word-center">${centerWord}</h1>`;
                
                // Insert before final slide template
                deck.insertBefore(centerSlide, finalSlideTemplate);

                // 2. Diamond Slide
                const diamondSlide = document.createElement('div');
                diamondSlide.className = 'slide-container generated-slide';
                diamondSlide.innerHTML = `
                    <div class="diamond-container">
                        <div class="fixation-point"></div>
                        <div class="word-corner top-left">${corners[0]}</div>
                        <div class="word-corner top-right">${corners[1]}</div>
                        <div class="word-corner bottom-left">${corners[2]}</div>
                        <div class="word-corner bottom-right">${corners[3]}</div>
                    </div>
                `;
                deck.insertBefore(diamondSlide, finalSlideTemplate);
            }

            // D. Refresh slides NodeList
            slides = document.querySelectorAll('.slide-container');
        }

        // 4. Playback Logic
        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.remove('active');
                if (i === index) {
                    slide.classList.add('active');
                }
            });
            // Update Progress Bar
            const total = slides.length;
            const percentage = ((index + 1) / total) * 100;
            progressBar.style.width = percentage + '%';
        }

        function nextSlide() {
            if (currentSlide < slides.length - 1) {
                currentSlide++;
                showSlide(currentSlide);
            } else {
                stopTraining();
            }
        }

        function startTraining() {
            if (intervalId) return;
            
            // Start from the first generated slide if at title
            if(currentSlide === 0) currentSlide = 1;
            showSlide(currentSlide);

            startBtn.style.display = 'none';
            stopBtn.style.display = 'block';
            resetBtn.disabled = true; // Disable reset while running
            resetBtn.style.opacity = 0.5;

            intervalId = setInterval(nextSlide, speed);
        }

        function stopTraining() {
            clearInterval(intervalId);
            intervalId = null;
            startBtn.style.display = 'block';
            stopBtn.style.display = 'none';
            startBtn.innerHTML = '<i class="fa-solid fa-play"></i> 계속하기';
            
            resetBtn.disabled = false;
            resetBtn.style.opacity = 1;
        }

        function resetAndReshuffle() {
            stopTraining();
            // Go back to title
            currentSlide = 0;
            // Regenerate random words
            generateSlides();
            // Show title
            showSlide(0);
            
            startBtn.innerHTML = '<i class="fa-solid fa-play"></i> 훈련 시작';
            progressBar.style.width = '0%';
        }

        // Initialize on Load
        window.onload = function() {
            generateSlides();
            slides = document.querySelectorAll('.slide-container');
            showSlide(0);
        };

    </script>
</body>
</html>
